# Disk Manager

Disk Manager - —ç—Ç–æ –º–æ–¥—É–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ. –û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ —Å—Ç—Ä–∞–Ω–∏—Ü, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Å—Ç—Ä–∞–Ω–∏—Ü.

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **Meta Files** (`.meta`) - —Ñ–∞–π–ª —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü (—Å—Ö–µ–º–∞, –∫–æ–ª–æ–Ω–∫–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- **Page Directory** (`.dir`) - —Ñ–∞–π–ª —Å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü (—É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –≤ –∫–∞–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ)
- **Data Files** (`.data`) - —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü


## üîç –û—Ç–ª–∞–¥–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ —Ñ–∞–π–ª–æ–≤

### –ü—Ä–æ—Å–º–æ—Ç—Ä hex-–¥–∞–º–ø–æ–≤
```bash
hexdump -C ./tables/test_users.meta
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤ –¥–≤–æ–∏—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
```bash
xxd -b ./tables/test_users.data
```

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –†–∞–∑–º–µ—Ä—ã —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `uint32` —Ç–∏–ø—ã, —Ö–æ—Ç—è –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

```go
type ColumnInfo struct {
    ColumnName      [32]byte  // 32 –±–∞–π—Ç–∞ - –∏–º—è –∫–æ–ª–æ–Ω–∫–∏
    DataType        uint8     // –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å uint8 –≤–º–µ—Å—Ç–æ uint32
    IsNullable      bool     // –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 1 –±–∏—Ç
    IsPrimaryKey    bool     // –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 1 –±–∏—Ç  
    IsAutoIncrement bool     // –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 1 –±–∏—Ç
    DefaultValue    uint32    // 4 –±–∞–π—Ç–∞ - –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
}
```

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏
- **–¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥**: –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏, —á—Ç–æ –∑–∞–º–µ–¥–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ –Ω–∞ N —Å–µ–∫—É–Ω–¥
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤

## ‚ö° –ü–æ–º–Ω–∏–º —á—Ç–æ:
> **–í–∞–∂–Ω–æ**: –û–° —á–∏—Ç–∞–µ—Ç/–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∞–º–∏ (–æ–±—ã—á–Ω–æ 4KB). –ù–µ–ª—å–∑—è –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –±–∞–π—Ç—ã `file.Read(10, 20)`, —Ç–æ–ª—å–∫–æ —Ü–µ–ª—ã–µ –±–ª–æ–∫–∏!
